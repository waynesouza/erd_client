<div class="bg-light" *ngIf="!isLoginOrRegisterRoute()">
  <div class="project-title bg-primary text-white text-center">Projects</div>
  <div>
    <ul>
      <li *ngFor="let project of projects" (click)="loadProject(project.id)" (mouseenter)="setHoveredProject(project.id)" (mouseleave)="setHoveredProject(null)">
        {{ project.name }}
        <i class="bi bi-gear-fill" *ngIf="hoveredProjectId === project.id" (click)="openEditModal(project, $event)"></i>
      </li>
    </ul>
  </div>
  <div class="text-center">
    <button class="btn btn-primary" (click)="openCreateModal()">
      Create Project
      <i class="bi bi-plus-circle"></i>
    </button>

    <app-project-modal *ngIf="isModalOpen" [isEditMode]="isEditMode" [projectToEdit]="selectedProject" (modalClosed)="closeModal()"></app-project-modal>
  </div>
  <div class="user-section">
    <div class="user-info">
      <!-- TODO User avatar -->
      <div class="user-details">
        <p class="user-name">{{ user?.fullName || 'Username' }}</p>
        <p class="user-email">{{ user?.email || 'user@example.com' }}</p>
      </div>
    </div>
    <div class="user-actions">
      <!-- TODO Goto profile -->
      <button class="btn btn-sm btn-outline-danger user-btn" (click)="logout()">
        <i class="bi bi-box-arrow-right"></i> Logout
      </button>
    </div>
  </div>
</div>
